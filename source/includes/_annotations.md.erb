# Annotations API

The annotations API is made up of two distinct entities: conversations and comments. Both have specific properties on top of the common properties (see tables below).
Annotations are attached to a certain `contentItemId`. At the moment, the `contentItemId` references a slide number, but in the future this might reflect a unique reference to an object on a slide.

Every topic has a number of conversations attached to it. Comments are (non-recursively) nested under a conversation. The child comments' `contentItemId` must be equal to the parent conversation.

Conversations are secret by default, they cannot be seen by anyone except the user who created them. It is not possible to add comments to secret conversations.

Internally, annotations are powered by a state machine.

<%= image_tag 'annotations_state_diagram.png' %>

## Properties

### Annotation

Common properties


Property | Description
---------- | -------
`contentItemId` | Reference to slide or object
`rating` | Aggregated rating count
`rated` | Whether or not the current user has rated the annotation
`edited` | Whether or not the annotation has been edited after creation*
`flagged` | Whether or not the annotation is flagged*
`deleted` | Whether or not the annotation is deleted*
`secret` | Whether or not the annotation is secret*

* `edited`, `flagged`, `deleted` and `secret` are mutually exclusive

## Create a conversation

> Request
