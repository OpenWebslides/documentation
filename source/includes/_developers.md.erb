# Information for developers

## Project structure

```shell
.
├── app                               # API server code
│   ├── commands
│   ├── controllers
│   ├── errors
│   ├── formatters
│   ├── models
│   ├── policies
│   ├── resources
│   ├── services
│   ├── views
│   └── workers
├── bin                               # API server executables
├── client                            # Web app code
│   ├── app
│   │   ├── actions
│   │   ├── api
│   │   ├── constants
│   │   ├── containers
│   │   ├── presentationals
│   │   ├── reducers
│   │   ├── sagas
│   │   └── selectors
│   ├── assets
│   │   ├── files
│   │   ├── fonts
│   │   ├── images
│   │   └── stylesheets
│   ├── config
│   ├── lib
│   │   ├── content-editable
│   │   ├── content-item-container
│   │   ├── convert-to-print
│   │   ├── convert-to-state
│   │   └── state-traversal
│   ├── locales
│   │   └── en
│   └── specs
├── config                            # API server configuration
├── data                              # Topic repositories
├── db                                # Database configuration
├── lib                               # API server extra modules
├── nginx                             # Web server configuration
├── spec                              # API server tests
└── tmp                               # Temporary files
```

## Frontend API endpoint

The default API endpoint of the frontend stack is currently set to `http://owsdev.ugent.be/api/` in the `client/config/api.js` file. This file should almost never be changed. If you need to override the endpoint, copy (don't move) the `client/config/config.js.erb` file to `client/config/config.js`, and replace the embedded Ruby tag with another endpoint (don't forget the trailing `/api/`). This file is ignored by git and should never be included in the repository, as it gets overwritten on every Docker execution.

## Rake tasks

```sh
$ bundle exec rails db:create       # Create database
$ bundle exec rails db:migrate      # Migrate database
$ bundle exec rails db:drop         # Drop database
$ bundle exec rails db:setup        # Create database and load schema
$ bundle exec rails db:reset        # Drop and migrate database
$ bundle exec rails db:clear        # Delete all data in the database
$ bundle exec rails db:sample       # Generate random sample data
```

<aside class="notice">
  Suffix every command with `RAILS_ENV=test` to operate on the test database.
</aside>
