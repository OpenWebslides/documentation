# Changelog

<!-- When updating the changelog, don't forget to update the API version number in `index.html.erb` as well -->

The changelog contains a summary of changes made in a major/minor API release.
It should also include a list of endpoints that were modified.
For patch release changelogs, see the git tags and commit messages.

## API v10

- Rename `eventType` to `feedItemType`
  - [`GET /feedItems`](#get-all-feed-items): rename attribute

## API v9.1

- Add ability to reject a PR
  - [`PATCH /pullRequests/:id`](#reject-a-pull-request): add endpoint

## API v9

- Require a user's current password when setting a new one
  - [`PATCH /users/:id`](#update-a-user): add `current_password` attribute

## API v8

- Migrate topic's `state` attribute to a `access` state machine
  - [`GET /topics/:id`](#get-a-topic): remove `state`, add `access` attribute
  - [`POST /topics/:id`](#create-a-topic): remove `state`, add `access` attribute
  - [`PATCH /topics/:id`](#update-a-topic): remove `state`, add `access` attribute

## API v7.1

- Add email notifications toggle to user
  - [`GET /users/:id`](#get-a-user): add `alertEmails` attribute
  - [`POST /users`](#create-a-user): add `alertEmails` attribute
- Add `topic_forked` Alert type
  - [`GET /users/:id/alerts`](#get-all-user-alerts): add `topic_forked` alert type

## API v7
- Implement new versioning scheme
  - [`Accept header in all requests`](#versioning)

## API v6.2

- Add _mark as read_ to Alerts API
  - [`PATCH /alerts/:id`](#mark-alert-as-read): Add endpoint

## API v6.1

- Enforce Alert topic relationship
  - [`GET /users/:id/alerts`](#get-all-user-alerts): `topic` relationship is now always present

## API v6

- Add required commit message
  - [`PATCH /topics/:id/content`](#update-topic-content): Add `message` attribute

## API v5.3

- Add pull request alert types
  - [`GET /users/:id/alerts`](#get-all-user-alerts): Add `pr_submitted`, `pr_accepted` and `pr_rejected` alert types

## API v5.2

- Add Pull Requests API
  - `GET /topics/:id/incomingPullRequests`: add endpoint
  - `GET /topics/:id/outgoingPullRequests`: add endpoint
  - [`POST /pullRequests`](#create-a-pull-request)

## API v5.1

- Add Alerts API
  - [`GET /users/:id/alerts`](#get-all-user-alerts): add endpoint

## API v5

- Add feed item type for forked topics
  - [`GET /feedItems`](#get-all-feed-items): add `topic_forked` as `eventType`

## API v4.1

- Add ability to fork API
  - [`GET /topics/:id`](#get-a-topic): add `upstream` and `forks` relationships
  - [`POST /topics/:id/fork`](#fork-a-topic): add endpoint

## API v4

- Rename Notifications API to Feed Items API
  - [All Notifications API endpoints](#feed-items-api)
- Added required, immutable `rootContentItemId` attribute to Topic resource
  - [`GET /topics/:id`](#get-a-topic): add `rootContentItemId` attribute
  - [`POST /topics`](#create-a-topic): add `rootContentItemId` attribute
- Enforced root content item id equal to resource root content item id when updating topic content
  - [`PATCH /topics/:id/content`](#update-topic-content): add validation error response
- Removed dummy identifier constraints for certain endpoints
  - [`PATCH /topics/:id/content`](#update-topic-content): remove `id` attribute
  - [`DELETE /ratings/:id`](#delete-rating): remove `id` attribute
  - [`PATCH /confirmation`](#confirm-account): remove `id` attribute
  - [`DELETE /token`](#delete-a-token-sign-out): remove `id` attribute
  - [`PATCH /password`](#reset-password): remove `id` attribute
- Removed unnecessary Notifications API endpoints
  - Removed relationship endpoints (undocumented)
- Enabled OAuth2 authentication
  - Add redirect and callback endpoints (undocumented)

## API v3

- Added missing confirmation API route
  - [`POST /confirmation`](#request-resend-confirmation-instructions): change behaviour
  - [`PATCH /confirmation`](#confirm-account): add endpoint

## API v2

- Enforced all requests to include an API version
  - All endpoints: see [versioning](#versioning)

## API v1

- Initial release
